import{r as d,j as a,c as C}from"./client-Dv7fwF0B.js";import{b as m,i as M,v as L}from"./index-C0t_nZK7.js";const E="veepn-guard-alert",g=new Map,w=new Map,_=async function(t){if(await Promise.resolve(),M(t)){const e=t.id?g.get(t.id):g.get(t.type);e&&e(t);const r=t.id?w.get(t.id):w.get(t.type);r&&r.forEach(c=>{c(t)})}};m.runtime.onMessage.addListener(_);const R=function(){m.runtime.onMessage.removeListener(_)};window.addEventListener("beforeunload",R);function v(){return async function(t,...e){return new Promise(r=>{const c=L();g.set(c,l=>{g.delete(c),r(l)});const f={type:t,id:c,data:e[0]??{}};m.runtime.sendMessage(f).catch(()=>{})})}}const h=v(),o=v(),x=""+new URL("account-hijacked-BBvvqP8b.svg",import.meta.url).href,D=""+new URL("compromised-password-vxxeRtFM.svg",import.meta.url).href,A=""+new URL("data-leak-D-kVRZ4w.svg",import.meta.url).href,F=""+new URL("public-document-B_twLPLq.svg",import.meta.url).href;function V(){const[n,t]=d.useState(null),e=function(){t(null)},r={"protect-email":{title:"You donâ€™t monitor {{value}}",description:"Add this address to the monitoring service and receive instant alerts if personal data is compromised.",img:A,action:{text:"Receive breach alerts",onClick(){o("show-website-page",{page:"pricing",params:{guard_alert:"protect-email",utm_campaign:"popup_address"}}).catch(()=>{}),o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_address_cta_clicked"}).catch(()=>{}),e()},onClose(){o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_address_close_clicked"}).catch(()=>{}),e()}}},"protect-password":{title:"Warning: password leak",description:"This password was exposed in a data breach. We recommend scanning your account for security risks.",img:D,action:{text:"Scan your data",onClick(){o("show-website-page",{page:"pricing",params:{guard_alert:"protect-password",utm_campaign:"popup_password"}}).catch(()=>{}),o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_password_cta_clicked"}).catch(()=>{}),e()},onClose(){o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_password_close_clicked"}).catch(()=>{}),e()}}},"protect-google-docs-share":{title:"Document is shared publicly",description:"Anyone with the link has access. If you own the document, consider updating your sharing settings.",img:F,action:{text:"Check out Premium",onClick(){o("show-website-page",{page:"pricing",params:{guard_alert:"protect-google-docs-share",utm_campaign:"popup_document"}}).catch(()=>{}),o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_document_cta_clicked"}).catch(()=>{}),e()},onClose(){o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_document_close_clicked"}).catch(()=>{}),e()}}},"protect-facebook":{title:"Your account is at risk",description:"Hackers can gain control of your account and use it to spread scams, targeting your contacts.",img:x,action:{text:"Secure your data",onClick(){o("show-website-page",{page:"pricing",params:{guard_alert:"protect-facebook",utm_campaign:"popup_hijack"}}).catch(()=>{}),o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_cta_clicked"}).catch(()=>{}),e()},onClose(){o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_close_clicked"}).catch(()=>{}),e()}}},"protect-gmail":{title:"Your account is at risk",description:"Hackers can gain control of your account and use it to spread scams, targeting your contacts.",img:x,action:{text:"Secure your data",onClick(){o("show-website-page",{page:"pricing",params:{guard_alert:"protect-gmail",utm_campaign:"popup_hijack"}}).catch(()=>{}),o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_cta_clicked"}).catch(()=>{}),e()},onClose(){o("send-analytic-event",{types:["google-analytics","aws-kinesis","amplitude"],name:"popup_hijack_close_clicked"}).catch(()=>{}),e()}}}},c=function(i,y){const u={value:y,slug:i.slug,timestamp:Math.round(Date.now()/1e3),domain:window.location.hostname,url:window.location.href,data:{}};h("send-guard-action",u).then(s=>{if(s.success){const p=r[s.data.modal];s.data.data.value&&(p.title=p.title.replace("{{value}}",s.data.data.value)),t(p||null)}}).catch(()=>{})},f=function(i){[...document.querySelectorAll(i.selector)].forEach(u=>{if(i.trigger.type==="attribute"){const s=u.getAttribute(i.trigger.value);if(s){const p=s.trim();c(i,p)}}else if(i.trigger.type==="listener")u.addEventListener(i.trigger.value,s=>{const p=s.target.value.trim();c(i,p)});else if(i.trigger.type==="content"){const s=u.outerHTML.trim();c(i,s)}})};return d.useEffect(()=>{h("get-guard-rules",{url:window.location.href}).then(l=>{l.success&&l.data.rules.forEach(f)}).catch(()=>{})},[]),{popupData:n,closePopup:e}}const P=""+new URL("x-close-cross-DFy6If8L.svg",import.meta.url).href,U=""+new URL("logo-veepn-DbnXwVk8.svg",import.meta.url).href;function N({data:n}){return a.jsxs("div",{className:"guard-popup",children:[a.jsxs("div",{className:"guard-popup__header",children:[a.jsx("img",{src:U,alt:"veepn",width:"118",height:"32"}),a.jsx("button",{className:"guard-popup__close",type:"button",onClick:n.action.onClose,children:a.jsx("img",{src:P,alt:"close",width:"16",height:"16"})})]}),a.jsx("figure",{className:"guard-popup__img",children:a.jsx("img",{src:n.img,alt:"guard",width:"368",height:"142"})}),a.jsx("h3",{className:"guard-popup__title",children:n.title}),a.jsx("p",{className:"guard-popup__description",children:n.description}),a.jsx("div",{className:"guard-popup__actions",children:a.jsx("button",{className:"guard-popup__btn",type:"button",onClick:n.action.onClick,children:n.action.text})})]})}function S(){const[n,t]=d.useState(!1),{popupData:e}=V();return d.useEffect(()=>{h("get-guard-enable-state").then(r=>{r.success&&t(r.data.status)}).catch(()=>{})},[]),n&&e&&a.jsx(N,{data:e})}const H="html{box-sizing:border-box;text-size-adjust:100%;word-break:normal;-moz-tab-size:4;tab-size:4}*,:before,:after{background-repeat:no-repeat;box-sizing:border-box}:before,:after{text-decoration:inherit;vertical-align:inherit}*{padding:0;margin:0}hr{overflow:visible;height:0;color:inherit;border:0;border-top:1px solid}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}iframe{border-style:none}input{border-radius:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit;color:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit],[role=button]{cursor:pointer}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}button:-moz-focusring,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{outline:1px dotted ButtonText}select{-webkit-appearance:none;-moz-appearance:none;appearance:none}a:focus,button:focus,input:focus,select:focus,textarea:focus{outline-width:0}select::-ms-expand{display:none}select::-ms-value{color:currentcolor}legend{border:0;color:inherit;display:table;white-space:normal;max-width:100%}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button;color:inherit;font:inherit}[disabled]{cursor:default}img{border-style:none}progress{vertical-align:baseline}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}ul,ol{list-style-type:none}figure{margin:0}.guard-popup{font-family:FigtreeVF,sans-serif;position:fixed;z-index:2147483638;top:8px;left:24px;overflow:visible;color:#222e3a;background-color:#fff;max-width:416px;width:calc(100% - 48px);border-radius:16px;box-shadow:0 4px 20px #00000040;padding:24px}.guard-popup__header{display:flex;justify-content:space-between;align-items:center;column-gap:16px;margin-bottom:24px}.guard-popup__close{display:flex;align-items:center;justify-content:center;width:24px;height:24px;opacity:.7}.guard-popup__img{line-height:0;margin-bottom:24px}.guard-popup__img img{width:100%;aspect-ratio:368/142;object-fit:cover;border-radius:12px;overflow:hidden}.guard-popup__title{font-size:24px;line-height:32px;margin-bottom:8px}.guard-popup__description{font-size:20px;line-height:28px;font-weight:500;color:#4a5764;margin-bottom:28px}.guard-popup__actions{display:flex;justify-content:flex-end;column-gap:16px}.guard-popup__btn{display:flex;align-items:center;justify-content:center;padding:8px 16px;border-radius:5px;font-size:16px;line-height:24px;font-weight:700;cursor:pointer;color:#fff;background:linear-gradient(180deg,#5695fd,#1554ff)}",I='@font-face{font-family:FigtreeVF;src:url(${extensionUrl}fonts/FigtreeVF.woff2) format("woff2 supports variations"),url(${extensionUrl}fonts/FigtreeVF.woff2) format("woff2-variations");font-weight:100 1000;font-display:swap}',b=document.createElement("div");b.id=E;const k=b.attachShadow({mode:"open"}),j=document.createElement("style");j.innerText=H;C(k).render(a.jsx(d.StrictMode,{children:a.jsx(S,{})}));k.appendChild(j);document.body.append(b);const T=m.runtime.getURL(""),z=document.createElement("style");z.innerText=I.replaceAll("${extensionUrl}",T);document.body.append(z);
